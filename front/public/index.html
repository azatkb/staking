<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>OVP token is an investment in the future</title>
    <link href="img/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <meta name="google-signin-client_id" content="845539355021-jhh92gv1q328s71qlrrmpga5jtem8hlo.apps.googleusercontent.com">
    <meta name="google-signin-scope" content="https://www.googleapis.com/auth/analytics.readonly">
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script type="application/javascript">

       $(document).ready(() => {

            /* Фиксированная шапка */
            function fixHeader() {
                var winTop = $(window).scrollTop();
                if(winTop >= 1){
                    $('#header').addClass('fixed');
                } else {
                    $('#header').removeClass('fixed');
                }
            }
            fixHeader();
            $(window).scroll(function(){
                fixHeader();
            });


            // Скрываю подложку видео
            setTimeout(function() {
                $('.video-box__bg').fadeOut();
            }, 5000);


            // Модальные окна
            var overlay = $(".overlay"),
                modal = $(".modal"),
                modalClose = $(".modal__close"),
                modalOpen = $(".modal__open[data-modal]");

            $(document).on("click",'.overlay',function (e) {
                if ($(e.target).closest(".modal").length == 0) {
                    closeMobileMenuWithoutOverlay();
                    $("body, html").removeClass("my-body-noscroll-class");
                    $(this).fadeOut();
                    modal.fadeOut();
                    $(".video-content iframe").remove();
                    modal.css('transform', 'translate(-50%, -100rem)');
                }
            });

            $(document).on("click",'.modal__close', function (e) {
                $("body, html").removeClass("my-body-noscroll-class");
                $(".overlay").fadeOut();
                $(".modal").fadeOut();
                $(".video-content iframe").remove();
                $(".modal").css('transform', 'translate(-50%, -100rem)');
            });

            $(document).on("click",'.modal__open[data-modal]', function (e) {
             
                    var modalId = $(this).attr("data-modal"),
                        EachModal = $('.modal[data-modal="' + modalId + '"]');

                    if (this.getAttribute("data-src")) {
                        var modalVideo = this.getAttribute("data-src");
                        modalElem = document.querySelector('.modal[data-modal="' + modalId + '"]');
                        $(modalElem)
                            .find(".video-content")
                            .html('<iframe src="https://www.youtube.com/embed/' + modalVideo + '?frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>');
                    }

                    if (this.getAttribute("data-swap")) {
                        var swapPosition = $(this).attr("data-swap");
                        $(EachModal).attr('data-swap', swapPosition);
                    }

                    $('#header').css('z-index', 20);

                    closeMobileMenuWithoutOverlay();
                    modal.hide();

                    overlay.fadeIn('fast');
                    EachModal.fadeIn();
                    EachModal.css('transform', 'translate(-50%, -50%)');
                    $("body, html").addClass("my-body-noscroll-class");
            });

          



            /** * Replace all SVG images with inline SVG */
            $("img.img-svg").each(function () {
                var $img = $(this);
                var imgID = $img.attr("id");
                var imgClass = $img.attr("class");
                var imgURL = $img.attr("src");
                $.get(
                    imgURL,
                    function (data) {
                        var $svg = $(data).find("svg");
                        if (typeof imgID !== "undefined") {
                            $svg = $svg.attr("id", imgID);
                        }
                        if (typeof imgClass !== "undefined") {
                            $svg = $svg.attr("class", imgClass + " replaced-svg");
                        }
                        $svg = $svg.removeAttr("xmlns:a");
                        $img.replaceWith($svg);
                    },
                    "xml"
                );
            });

            /* Мобильное меню */
            $(".mobile__menu-button .mobile__button").on("click", function (e) {
                if($(this).parent().hasClass('closed')) {
                    $('.mobile__menu-button').removeClass('closed');
                    $('.mobile__menu-button').addClass('opened');

                    $('#header').css('z-index', 101);
                    $('#header').addClass('menu__open');
                    $("#mobile__menu").slideDown();

                    $('.overlay').fadeIn();
                    $("body, html").addClass("my-body-noscroll-class");
                } else {
                    closeMobileMenuWithOverlay();
                }
            });

            /* Закрываем меню скрывая overlay */ 
            function closeMobileMenuWithOverlay() {
                $('.mobile__menu-button').removeClass('opened');
                $('.mobile__menu-button').addClass('closed');

                $('#header').removeClass('menu__open');
                $("#mobile__menu").slideUp();

                $('.overlay').fadeOut(600);
                $("body, html").removeClass("my-body-noscroll-class");
            }

            /* Закрываем меню не скрывая overlay (для запуска модалок) */ 
            function closeMobileMenuWithoutOverlay() {
                $('.mobile__menu-button').removeClass('opened');
                $('.mobile__menu-button').addClass('closed');

                $('#header').removeClass('menu__open');
                $("#mobile__menu").slideUp();

                $("body, html").removeClass("my-body-noscroll-class");
            }


            /* Плавный якорь */
            $('a[href^="#"]').click(function () {
                closeMobileMenuWithOverlay();
                $("body, html").removeClass("my-body-noscroll-class");
                let target = $(this).attr("href");
                let targetPosition = $(target).offset().top - 100;
                $("html, body").animate({ scrollTop: targetPosition }, 500);
                return false;
            });



            /* Табы - вкладки */
            $(".instruction__button").on("click", function () {
                $(this).addClass("active").siblings().removeClass("active");
                $(".instruction__tab").removeClass("active").eq($(this).index()).addClass("active");
            });

            /* FAQ */
            $('.faq__item .item__header').on("click", function () {
                $(this).parent().siblings().removeClass('active').find('.item__content').slideUp();

                $(this).parent().toggleClass("active");
                $(this).siblings('.item__content').slideToggle();
            });

            /* Показать больше (любой список) */
            $('.list__box-more').on('click', function() {
                $(this).siblings('.list__box').find('.list__item')
                .slideDown('fast');
            });
            
            /* Обращения на странице "Поддержка" */
            $('.requiest__item .item__header').on("click", function () {
                $(this).parent().toggleClass("active");
                $(this).siblings('.item__content').slideToggle();
            });

            if(location.hash){
               setTimeout(()=>{
                let hash = location.hash;
                $("body, html").removeClass("my-body-noscroll-class");
                // let target = $(this).attr("href");
                let targetPosition = $(hash).offset().top - 100;
                $("html, body").animate({ scrollTop: targetPosition }, 500);
                return false;
               },2000);
            }


      });

    </script>
   <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-233784156-1"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-233784156-1');
    </script>

  </body>
</html>
